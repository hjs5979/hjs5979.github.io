---
layout: single
title: RSA
categories: 보안
tag: [보안]
use_math: true
toc: true
author_profile: true
sidebar:
  nav: docs
---

# 공개키 및 개인키 생성

1. 두 소수 p, q 를 준비한다.

2. p−1, q−1과 각각 서로소인 정수 e를 준비한다.

3. ed를 (p−1)(q−1)으로 나눈 나머지가 1이 되도록 하는 d를 찾는다.

4. N=pq를 계산한 후, N과 e를 공개한다. 이들이 바로 공개키이며, 상대방이 평서문을 암호문으로 바꿀때 쓴다. 
한편 d는 숨겨두는데, 이 수가 바로 개인키이며, 공개키로 상대방이 만든 암호문을 해독할 때 쓴다.

5. 이제 p,q,(p−1)(q−1)는 파기한다.  

# 암호화 및 복호화 과정

1. 밥이 앨리스한테 메시지를 비밀리에 주고자한다. 

2. 앨리스는 위의 방법으로 공개키와 개인키를 만들고, 공개키를 공개한다.

3. 밥은 앨리스의 공개키를 통해 자신의 메시지를 암호화한다.

  - 평문 $a$를 암호문 $x$로 암호화한다. (보통 평문은 난수로 생성된다, $N$과 $e$가 공개키이다.)

  - $ x \equiv a^e (mod\,N) $ ($x$를 $N$으로 나눈 나머지와 $a^e$를 $N$으로 나눈 나머지는 같다.)

4. 앨리스는 밥의 암호문($x$)을 자신의 개인키를 통해 복호화한다.($d$가 개인키이다.)

  - $ a' \equiv x^d (mod\,N) $ ($a`$를 $N$으로 나눈 나머지와 $x^d$를 $N$으로 나눈 나머지는 같다.)

5. 복호화된 메시지인 $a`$는 $a$와 같을 것이다.